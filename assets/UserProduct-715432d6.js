import{_ as g,m,r as u,o as c,c as r,a as l,b as e,e as b,t as s,h as n,F as v,f}from"./index-c99659c2.js";import{u as L}from"./toastMessage-0a5a3ae9.js";const k={data(){return{isLoading:!1,product:{},id:""}},methods:{...m(L,["pushMessage"]),getProduct(){const i=`https://vue3-course-api.hexschool.io/v2//api/berlin/product/${this.id}`;this.isLoading=!0,this.$http.get(i).then(o=>{this.product=o.data.product,this.isLoading=!1})},addToCart(i,o=1){const a="https://vue3-course-api.hexschool.io/v2//api/berlin/cart",d={product_id:i,qty:o};this.isLoading=!0,this.$http.post(a,{data:d}).then(t=>{this.isLoading=!1,this.pushMessage({style:"success",title:"成功加入購物車",content:t.data.message}),this.$router.push("/user/cart")}).catch(t=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"加入購物車失敗",content:t.response.data.message})})}},created(){this.id=this.$route.params.productId,this.getProduct()}},x={class:"container"},y={"aria-label":"breadcrumb"},C={class:"breadcrumb"},V={class:"breadcrumb-item"},M={class:"breadcrumb-item active","aria-current":"page"},N={class:"row justify-content-center"},T={class:"col-8"},B=["src","alt"],P={class:"col-4"},w={key:0,class:"h5"},F={key:1,class:"h6"},R={key:2,class:"h5"},S=e("hr",null,null,-1);function U(i,o,a,d,t,p){const h=u("VueLoading"),_=u("RouterLink");return c(),r(v,null,[l(h,{active:t.isLoading,"z-index":1060},null,8,["active"]),e("div",x,[e("nav",y,[e("ol",C,[e("li",V,[l(_,{to:"/user/cart"},{default:b(()=>[f("購物車")]),_:1})]),e("li",M,s(t.product.title),1)])]),e("div",N,[e("article",T,[e("h2",null,s(t.product.title),1),e("div",null,s(t.product.content),1),e("div",null,s(t.product.description),1),e("img",{src:t.product.imageUrl,class:"img-fluid mb-3",alt:t.product.title},null,8,B)]),e("div",P,[t.product.price?n("",!0):(c(),r("div",w,s(t.product.origin_price)+" 元",1)),t.product.price?(c(),r("del",F,"原價 "+s(t.product.origin_price)+" 元",1)):n("",!0),t.product.price?(c(),r("div",R,"現在只要 "+s(t.product.price)+" 元",1)):n("",!0),S,e("button",{type:"button",class:"btn btn-outline-danger",onClick:o[0]||(o[0]=j=>p.addToCart(t.product.id))}," 加到購物車 ")])])])],64)}const D=g(k,[["render",U]]);export{D as default};
