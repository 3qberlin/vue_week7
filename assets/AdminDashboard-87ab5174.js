import{m as h,_,r as i,o as d,c as v,b as t,a as e,e as o,f as n,d as b,g as k,h as $,F as M}from"./index-3cff4499.js";import{u as m}from"./toastMessage-d7eae601.js";import{T as x}from"./ToastMessages-effa7f9d.js";const N={methods:{...h(m,["pushMessage"]),logout(){const r="https://vue3-course-api.hexschool.io/v2//logout";this.$http.post(r).then(s=>{this.pushMessage({style:"success",title:"登出狀態",content:s.data.message}),this.$router.push("/")}).catch(s=>{this.pushMessage({style:"danger",title:"登出狀態",content:s.response.data.message})})}}},y={class:"navbar navbar-expand-lg navbar-dark bg-dark"},T={class:"container-fluid"},A=t("a",{class:"navbar-brand",href:"#"},"旅遊住宿訂房網",-1),V=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),B={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},L={class:"navbar-nav"},w={class:"navbar-nav ms-auto"};function C(r,s,c,g,p,l){const a=i("RouterLink");return d(),v("nav",y,[t("div",T,[A,V,t("div",B,[t("div",L,[e(a,{to:"/admin/products",class:"nav-link"},{default:o(()=>[n("產品")]),_:1}),e(a,{to:"/admin/orders",class:"nav-link"},{default:o(()=>[n("訂單")]),_:1}),e(a,{to:"/admin/coupons",class:"nav-link"},{default:o(()=>[n("優惠券")]),_:1}),e(a,{to:"/admin/article",class:"nav-link"},{default:o(()=>[n("貼文")]),_:1}),t("a",{href:"#",onClick:s[0]||(s[0]=b((...u)=>l.logout&&l.logout(...u),["prevent"])),class:"nav-link"},"登出")]),t("div",w,[e(a,{to:"/user/articles",class:"nav-link"},{default:o(()=>[n("Blog")]),_:1}),e(a,{to:"/user/cart",class:"nav-link"},{default:o(()=>[n("購物車")]),_:1})])])])])}const R=_(N,[["render",C]]),F={components:{NavbarLayout:R,ToastMessages:x},data(){return{status:!1}},methods:{...h(m,["pushMessage"])},created(){const r=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${r}`;const s="https://vue3-course-api.hexschool.io/v2//api/user/check";this.$http.post(s).then(c=>{this.pushMessage({style:"success",title:"成功登入",content:c.data.message}),this.status=!0}).catch(c=>{this.pushMessage({style:"danger",title:"錯誤訊息",content:c.response.data.message}),this.$router.push("/")})}},z={class:"container-fluid mt-3 position-relative"};function D(r,s,c,g,p,l){const a=i("NavbarLayout"),u=i("ToastMessages"),f=i("RouterView");return d(),v(M,null,[e(a),t("div",z,[e(u),p.status?(d(),k(f,{key:0})):$("",!0)])],64)}const q=_(F,[["render",D]]);export{q as default};
